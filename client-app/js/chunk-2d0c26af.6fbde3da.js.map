{"version":3,"sources":["webpack:///./src/pages/VideoSingle.vue","webpack:///./src/pages/VideoSingle.vue?ee27","webpack:///./src/pages/VideoSingle.vue?2a12"],"names":["class","style","padding","loading","src","video","width","title","description","comments","comment","key","id","replies","$t","sidebarVideos","sVideo","to","$common","getVideoTo","thumbnailSrc","height","max-width","active-class","totalViews","$d","publishedAt","props","videoId","type","String","required","setup","machine","setVideo","value","findVideo","fetchVideoComments","setTimeout","setSidebarVideos","fetchVideos","data","immediate","render"],"mappings":"kJAESA,MAAM,e,GAKHA,MAAM,+B,GACPC,MAAA,4B,GAeFD,MAAM,wC,GAKDA,MAAM,wC,GAcFA,MAAM,uB,GAKRA,MAAM,W,EAER,eAA2B,QAArBA,MAAM,QAAO,KAAC,G,kUAhDhC,eAuDS,GAvDDA,MAAM,OAAOE,QAAA,I,wBACnB,IAmBM,CAnBN,eAmBM,MAnBN,EAmBM,CAlBJ,eAAqC,G,WAAX,EAAAC,Q,qCAAA,EAAAA,QAAO,I,uBAEhB,EAAAA,Q,wCAAjB,eAeW,gBAdT,eAAoF,GAA1EC,IAAK,EAAAC,MAAMD,IAAKE,MAAM,SAASL,MAAA,uC,gBACzC,eAA8D,KAA9D,EAA8D,eAAnB,EAAAI,MAAME,OAAK,GACtD,eAEI,IAFJ,EAEI,eADC,EAAAF,MAAMG,aAAW,GAEtB,eAQS,GARDR,MAAM,QAAM,C,uBAEhB,IAA2B,E,mBAD7B,eAMY,2BALQ,EAAAS,SAAXC,I,iBADT,eAMY,GAJTC,IAAKD,EAAQE,GACbF,QAASA,EACTG,QAASH,EAAQG,S,sDAO1B,eAgCM,MAhCN,EAgCM,CA/BJ,eAAqC,G,WAAX,EAAAV,Q,qCAAA,EAAAA,QAAO,I,uBAElB,EAAAA,Q,wCAAf,eA4BS,W,uBA3BP,IAIS,CAJT,eAIS,GAJDH,MAAM,QAAM,C,uBAClB,IAEK,CAFL,eAEK,KAFL,EAEK,eADA,EAAAc,GAAE,iB,0BAIT,eAoBS,2BApBgB,EAAAC,cAAVC,I,iBAAf,eAoBS,GApBgCL,IAAKK,EAAOJ,I,wBACnD,IAIiB,CAJjB,eAIiB,Q,uBAHf,IAEc,CAFd,eAEc,GAFAK,GAAI,EAAAC,QAAQC,WAAWH,EAAOJ,K,wBAC1C,IAAmF,CAAnF,eAAmF,GAA3ER,IAAKY,EAAOI,aAAcC,OAAO,OAAOf,MAAM,SAASgB,YAAU,S,iDAI7E,eAYiB,GAZDtB,MAAM,QAAM,C,uBAC1B,IAIc,CAJd,eAIc,GAJAiB,GAAI,EAAAC,QAAQC,WAAWH,EAAOJ,IAAKW,eAAa,gB,wBAC5D,IAEK,CAFL,eAEK,KAFL,EAEK,eADAP,EAAOT,OAAK,K,kBAInB,eAIK,KAJL,EAIK,C,8BAHA,EAAAO,GAAE,eAAiB,EAAAT,MAAMmB,cAAe,IAC3C,K,eAA2B,IAC3B,eAAG,EAAAC,GAAG,EAAApB,MAAMqB,cAAW,O,+EC9CtB,iBAAgB,CAC7BC,MAAO,CACLC,QAAS,CACPC,KAAMC,OACNC,UAAU,IAGdC,MAAA,SAAML,GACJ,IAAMM,EAAU,0BACV5B,EAAQ,eAAkB,MAC1BI,EAAW,eAAI,IACfM,EAAgB,eAAa,IAC7BZ,EAAU,gBAAI,GAEpB,SAAe+B,I,mIAEC,OADd/B,EAAQgC,OAAQ,EAChB,EAAA9B,EAAc,GAAM4B,EAAQG,UAAUT,EAAMC,U,OAC3B,OADjB,EAAMO,MAAQ,SACd,EAAA1B,EAAiB,GAAMwB,EAAQI,mBAAmBV,EAAMC,U,cAAxD,EAASO,MAAQ,SACjBG,YAAW,6D,+CACTnC,EAAQgC,OAAQ,E,YACf,K,WAGL,SAAeI,I,0HACI,SAAMN,EAAQO,e,cAAvBC,EAAS,SAAL,KACZ1B,EAAcoB,MAAQM,E,WASxB,OANKF,IAEL,gBAAM,WAAM,OAAAZ,EAAA,UAAeO,EAAU,CACnCQ,WAAW,IAGN,CACLrC,MAAK,EACLU,cAAa,EACbN,SAAQ,EACRN,QAAO,MCvCb,EAAOwC,OAASA,EAED","file":"js/chunk-2d0c26af.6fbde3da.js","sourcesContent":["<template>\n  <r-page class=\"flex\" padding>\n    <div class=\"w-8/12 px-4\">\n      <r-inner-loading v-model=\"loading\" />\n\n      <template v-if=\"!loading\">\n        <r-video :src=\"video.src\" width=\"w-full\" style=\"height: 500px; max-width: 1100px\" />\n        <h2 class=\"text-xl font-bold mt-4 mb-2\">{{ video.title }}</h2>\n        <p style=\"white-space: pre-line\">\n          {{ video.description }}\n        </p>\n        <r-list class=\"my-4\">\n          <r-comment\n            v-for=\"comment in comments\"\n            :key=\"comment.id\"\n            :comment=\"comment\"\n            :replies=\"comment.replies\"\n          >\n          </r-comment>\n        </r-list>\n      </template>\n    </div>\n\n    <div class=\"w-4/12 px-2 border-l border-gray-300\">\n      <r-inner-loading v-model=\"loading\" />\n\n      <r-list v-if=\"!loading\">\n        <r-item class=\"pt-0\">\n          <h3 class=\"text-2xl my-0 font-bold leading-none\">\n            {{ $t('related') }}\n          </h3>\n        </r-item>\n\n        <r-item v-for=\"sVideo in sidebarVideos\" :key=\"sVideo.id\">\n          <r-item-section>\n            <router-link :to=\"$common.getVideoTo(sVideo.id)\">\n              <r-img :src=\"sVideo.thumbnailSrc\" height=\"h-32\" width=\"w-full\" max-width=\"240px\" />\n            </router-link>\n          </r-item-section>\n\n          <r-item-section class=\"px-2\">\n            <router-link :to=\"$common.getVideoTo(sVideo.id)\" active-class=\"text-primary\">\n              <h3 class=\"text-base font-bold\">\n                {{ sVideo.title }}\n              </h3>\n            </router-link>\n\n            <h5 class=\"text-sm\">\n              {{ $t('viewsLength', [video.totalViews]) }}\n              <span class=\"my-2\">-</span>\n              {{ $d(video.publishedAt) }}\n            </h5>\n          </r-item-section>\n        </r-item>\n      </r-list>\n    </div>\n  </r-page>\n</template>\n<script lang=\"ts\">\nimport { defineComponent, ref, watch } from 'vue'\nimport { useMachine, Video } from '@/plugins/you-space'\n\nexport default defineComponent({\n  props: {\n    videoId: {\n      type: String,\n      required: true,\n    },\n  },\n  setup(props) {\n    const machine = useMachine()\n    const video = ref<Video | null>(null)\n    const comments = ref([])\n    const sidebarVideos = ref<Video[]>([])\n    const loading = ref(false)\n\n    async function setVideo() {\n      loading.value = true\n      video.value = await machine.findVideo(props.videoId)\n      comments.value = await machine.fetchVideoComments(props.videoId)\n      setTimeout(async () => {\n        loading.value = false\n      }, 800)\n    }\n\n    async function setSidebarVideos() {\n      const { data } = await machine.fetchVideos()\n      sidebarVideos.value = data\n    }\n\n    void setSidebarVideos()\n\n    watch(() => props.videoId, setVideo, {\n      immediate: true,\n    })\n\n    return {\n      video,\n      sidebarVideos,\n      comments,\n      loading,\n    }\n  },\n})\n</script>\n","\nimport { defineComponent, ref, watch } from 'vue'\nimport { useMachine, Video } from '@/plugins/you-space'\n\nexport default defineComponent({\n  props: {\n    videoId: {\n      type: String,\n      required: true,\n    },\n  },\n  setup(props) {\n    const machine = useMachine()\n    const video = ref<Video | null>(null)\n    const comments = ref([])\n    const sidebarVideos = ref<Video[]>([])\n    const loading = ref(false)\n\n    async function setVideo() {\n      loading.value = true\n      video.value = await machine.findVideo(props.videoId)\n      comments.value = await machine.fetchVideoComments(props.videoId)\n      setTimeout(async () => {\n        loading.value = false\n      }, 800)\n    }\n\n    async function setSidebarVideos() {\n      const { data } = await machine.fetchVideos()\n      sidebarVideos.value = data\n    }\n\n    void setSidebarVideos()\n\n    watch(() => props.videoId, setVideo, {\n      immediate: true,\n    })\n\n    return {\n      video,\n      sidebarVideos,\n      comments,\n      loading,\n    }\n  },\n})\n","import { render } from \"./VideoSingle.vue?vue&type=template&id=5b8d9e26\"\nimport script from \"./VideoSingle.vue?vue&type=script&lang=ts\"\nexport * from \"./VideoSingle.vue?vue&type=script&lang=ts\"\nscript.render = render\n\nexport default script"],"sourceRoot":""}