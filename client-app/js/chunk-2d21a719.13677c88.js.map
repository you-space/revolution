{"version":3,"sources":["webpack:///./src/pages/Home.vue","webpack:///./src/pages/Home.vue?dcd2","webpack:///./src/pages/Home.vue?535a"],"names":["class","padding","disable","disableInfiniteScroll","offset","loading","icon","videos","video","id","to","$common","getVideoTo","src","thumbnailSrc","width","height","title","$t","totalViews","$d","publishedAt","page","lastPage","addVideosPage","value","fetchVideos","data","meta","concat","last_page","name","serverPrefetch","setup","length","render"],"mappings":"gJAGWA,MAAM,0B,GAQCA,MAAM,8D,GAIPA,MAAM,Q,GACLA,MAAM,W,EAER,eAA2B,QAArBA,MAAM,QAAO,KAAC,G,GASvBA,MAAM,8B,4MA1BjB,eA+BS,GA/BDC,QAAA,IAAO,C,uBACb,IA6BoB,CA7BpB,eA6BoB,GA7BAC,QAAS,EAAAC,sBAAwBC,OAAQ,K,CAwBhDC,QAAO,eAChB,IAEM,CAFN,eAEM,MAFN,EAEM,CADJ,eAAyB,GAAjBC,KAAK,gB,uBAzBjB,IAqBM,CArBN,eAqBM,MArBN,EAqBM,E,mBApBJ,eAmBW,2BAnBe,EAAAC,OAATC,I,iBACf,eAiBM,O,IAlBgCA,EAAMC,I,CAE1C,eAEc,GAFAC,GAAI,EAAAC,QAAQC,WAAWJ,EAAMC,K,wBACzC,IAAgE,CAAhE,eAAgE,GAAxDI,IAAKL,EAAMM,aAAcC,MAAM,SAASC,OAAO,Q,oCAGzD,eAIc,GAJAN,GAAI,EAAAC,QAAQC,WAAWJ,EAAMC,K,wBACzC,IAEK,CAFL,eAEK,KAFL,EAEK,eADAD,EAAMS,OAAK,K,kBAGlB,eAMM,MANN,EAMM,CALJ,eAIK,KAJL,EAIK,C,8BAHA,EAAAC,GAAE,eAAiBV,EAAMW,cAAe,IAC3C,K,eAA2B,IAC3B,eAAG,EAAAC,GAAGZ,EAAMa,cAAW,W,kECfjCC,EAAO,eAAI,GACXC,EAAW,eAAI,IAErB,SAAeC,I,8HACb,OAAIF,EAAKG,QAAUF,EAASE,OAC1BtB,EAAsBsB,OAAQ,EAC9B,KAGqB,GAAM,aAAQC,YAAY,CAC/CJ,KAAMA,EAAKG,S,cADP,EAAiB,SAAfE,EAAI,OAAEC,EAAI,OAIlBrB,EAAOkB,MAAQlB,EAAOkB,MAAMI,OAAOF,GAEnCJ,EAASE,MAAQG,EAAKE,UAEtBR,EAAKG,Q,WAGP,IAAMlB,EAAS,eAAa,IACtBJ,EAAwB,gBAAI,GAEnB,iBAAgB,CAC7B4B,KAAM,OACAC,eAAc,W,oHAClB,SAAMR,K,cAAN,S,YAEFS,MAAK,WAOH,OANA,gBAAU,WACoB,IAAxB1B,EAAOkB,MAAMS,QACfV,OAIG,CACLjB,OAAM,EACNJ,sBAAqB,MCtC3B,EAAOgC,OAASA,EAED","file":"js/chunk-2d21a719.13677c88.js","sourcesContent":["<template>\n  <r-page padding>\n    <r-infinite-scroll :disable=\"disableInfiniteScroll\" :offset=\"250\">\n      <div class=\"grid grid-cols-5 gap-5\">\n        <template v-for=\"video in videos\" :key=\"video.id\">\n          <div>\n            <router-link :to=\"$common.getVideoTo(video.id)\">\n              <r-img :src=\"video.thumbnailSrc\" width=\"w-full\" height=\"h-48\" />\n            </router-link>\n\n            <router-link :to=\"$common.getVideoTo(video.id)\">\n              <h2 class=\"text-base my-2 font-bold text-gray-500 hover:text-blue-500\">\n                {{ video.title }}\n              </h2>\n            </router-link>\n            <div class=\"flex\">\n              <h3 class=\"text-sm\">\n                {{ $t('viewsLength', [video.totalViews]) }}\n                <span class=\"mx-1\">-</span>\n                {{ $d(video.publishedAt) }}\n              </h3>\n            </div>\n          </div>\n        </template>\n      </div>\n\n      <template #loading>\n        <div class=\"row justify-center q-my-md\">\n          <f-icon icon=\"spinner\" />\n        </div>\n      </template>\n    </r-infinite-scroll>\n  </r-page>\n</template>\n\n<script lang=\"ts\">\nimport { defineComponent, ref, onMounted } from 'vue'\nimport { machine, Video } from '@/plugins/you-space'\n\nconst page = ref(1)\nconst lastPage = ref(10)\n\nasync function addVideosPage() {\n  if (page.value === lastPage.value) {\n    disableInfiniteScroll.value = true\n    return\n  }\n\n  const { data, meta } = await machine.fetchVideos({\n    page: page.value,\n  })\n\n  videos.value = videos.value.concat(data)\n\n  lastPage.value = meta.last_page\n\n  page.value++\n}\n\nconst videos = ref<Video[]>([])\nconst disableInfiniteScroll = ref(false)\n\nexport default defineComponent({\n  name: 'Home',\n  async serverPrefetch() {\n    await addVideosPage()\n  },\n  setup() {\n    onMounted(() => {\n      if (videos.value.length === 0) {\n        addVideosPage()\n      }\n    })\n\n    return {\n      videos,\n      disableInfiniteScroll,\n    }\n  },\n})\n</script>\n","\nimport { defineComponent, ref, onMounted } from 'vue'\nimport { machine, Video } from '@/plugins/you-space'\n\nconst page = ref(1)\nconst lastPage = ref(10)\n\nasync function addVideosPage() {\n  if (page.value === lastPage.value) {\n    disableInfiniteScroll.value = true\n    return\n  }\n\n  const { data, meta } = await machine.fetchVideos({\n    page: page.value,\n  })\n\n  videos.value = videos.value.concat(data)\n\n  lastPage.value = meta.last_page\n\n  page.value++\n}\n\nconst videos = ref<Video[]>([])\nconst disableInfiniteScroll = ref(false)\n\nexport default defineComponent({\n  name: 'Home',\n  async serverPrefetch() {\n    await addVideosPage()\n  },\n  setup() {\n    onMounted(() => {\n      if (videos.value.length === 0) {\n        addVideosPage()\n      }\n    })\n\n    return {\n      videos,\n      disableInfiniteScroll,\n    }\n  },\n})\n","import { render } from \"./Home.vue?vue&type=template&id=13c411d2\"\nimport script from \"./Home.vue?vue&type=script&lang=ts\"\nexport * from \"./Home.vue?vue&type=script&lang=ts\"\nscript.render = render\n\nexport default script"],"sourceRoot":""}